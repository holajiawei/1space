{
    "containers": [
        {
            "account": "AUTH_test",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "sync-s3",
            "copy_after": 0,
            "propagate_delete": true,
            "protocol": "s3",
            "retain_local": true
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "\u062acl-conn-sync",
            "copy_after": 0,
            "custom_prefix": "pre-",
            "propagate_delete": true,
            "protocol": "s3",
            "retain_local": true
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "s3-filter-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "filter-archive-s3",
            "copy_after": 0,
            "selection_criteria": {"OR": [{"x-object-meta-msd": "boo"},
                                          {"x-object-meta-msd": "b\u00e1r"}]},
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "s3",
            "retain_local": false
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "archive-s3",
            "copy_after": 0,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "s3",
            "retain_local": false
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "\u062acl-conn-archive",
            "copy_after": 0,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "s3",
            "retain_local": false
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "s3-restore",
            "copy_after": 3600,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "s3",
            "retain_local": false,
            "restore_object": true
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "s3-sync-test",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "\u062acl-conn-restore",
            "copy_after": 3600,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "s3",
            "retain_local": false,
            "restore_object": true
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "swift-sync",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "sync-swift",
            "copy_after": 0,
            "propagate_delete": true,
            "protocol": "swift",
            "retain_local": true
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "swift-sync",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "\u062acl-conn-sync-swift",
            "copy_after": 0,
            "propagate_delete": true,
            "protocol": "swift",
            "retain_local": true
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "bit-bucket",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "bucket-of-bits",
            "copy_after": 0,
            "propagate_delete": false,
            "merge_namespaces": true,
            "protocol": "swift",
            "retain_local": false,
            "remote_delete_after": 100,
            "remote_delete_after_addition": 172800
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "swift-archive",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "archive-swift",
            "copy_after": 0,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "swift",
            "retain_local": false
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "swift-archive",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "\u062acl-conn-archive-swift",
            "copy_after": 0,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "swift",
            "retain_local": false
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "swift-restore",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "swift-restore",
            "copy_after": 3600,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "swift",
            "retain_local": false,
            "restore_object": true
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "swift-restore",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "\u062acl-conn-swift-restore",
            "copy_after": 3600,
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "swift",
            "retain_local": false,
            "restore_object": true
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "filter-test",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "filter-archive",
            "copy_after": 0,
            "selection_criteria": {"OR": [{"x-object-meta-msd": "boo"},
                                          {"x-object-meta-msd": "b\u00e1r"},
                                          {"x-object-meta-un\u00edcode": "v\u00e1l"}]},
            "merge_namespaces": true,
            "propagate_delete": false,
            "protocol": "swift",
            "retain_local": false
        },

        {
            "account": "AUTH_slashacct",
            "aws_bucket": "crazy-target:",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "test2:tester2",
            "aws_secret": "testing2",
            "container": "/*",
            "copy_after": 0,
            "merge_namespaces": false,
            "propagate_delete": true,
            "protocol": "swift",
            "retain_local": true
        },
        {
            "account": "AUTH_\u062acct",
            "container": "keystone",
            "aws_bucket": "keystone",
            "aws_endpoint": "http://1space-keystone:5000/v3",
            "aws_identity": "tester",
            "aws_secret": "testing",
            "auth_type": "keystone_v3",
            "project_name": "test",
            "user_domain_name": "default",
            "project_domain_name": "default",
            "protocol": "swift",
            "merge_namespaces": true,
            "propagate_delete": true,
            "retain_local": true
        },
        {
            "account": "AUTH_\u062acct",
            "container": "keystone2",
            "aws_bucket": "keystone2",
            "aws_endpoint": "http://1space-keystone:5000/v2.0",
            "aws_identity": "tester",
            "aws_secret": "testing",
            "auth_type": "keystone_v2",
            "tenant_name": "test",
            "protocol": "swift",
            "merge_namespaces": true,
            "propagate_delete": true,
            "retain_local": true
        },
        {
            "account": "AUTH_\u062acct",
            "container": "keystone2a",
            "aws_bucket": "keystone2a",
            "aws_endpoint": "http://1space-keystone:5000/v2.0",
            "aws_identity": "tester",
            "aws_secret": "testing",
            "auth_type": "keystone_v2",
            "tenant_name": "test",
            "protocol": "swift",
            "merge_namespaces": true,
            "propagate_delete": false,
            "retain_local": false,
            "copy_after": 0,
            "remote_account": "AUTH_\u062aacct2"
        }
    ],
    "migrations": [
        {
            "account": "AUTH_test",
            "aws_bucket": "migration-s3",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "migration-s3",
            "protocol": "s3"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "nas-migration-s3",
            "aws_endpoint": "http://nas-connector:8083",
            "aws_identity": "nas-connector",
            "aws_secret": "mysecret",
            "container": "nas-migration-s3",
            "protocol": "s3"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "migration-s3-source",
            "aws_endpoint": "http://swift-s3-sync:10080",
            "aws_identity": "s3-sync-test",
            "aws_secret": "s3-sync-test",
            "container": "migration-s3-target",
            "protocol": "s3"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "migration-swift",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "migration-swift",
            "protocol": "swift",
            "propagate_account_metadata": true
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "migration-swift2",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "no-auto-migration-swift-reloc",
            "protocol": "swift"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "no-auto-acl",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "no-auto-acl",
            "protocol": "swift"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "no-auto-versioning",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "no-auto-versioning",
            "protocol": "swift"
        },
        {
            "account": "AUTH_test",
            "aws_bucket": "no-auto-history",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "\u062aacct2:\u062auser2",
            "aws_secret": "\u062apass2",
            "container": "no-auto-history",
            "protocol": "swift"
        },
        {
            "account": "AUTH_nacct2",
            "aws_bucket": "/*",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "nacct:nuser",
            "aws_secret": "npass",
            "protocol": "swift"
        },
        {
            "account": "AUTH_\u062aacct",
            "aws_bucket": "flotty",
            "aws_endpoint": "http://localhost:8080/auth/v1.0",
            "aws_identity": "admin:admin",
            "aws_secret": "admin",
            "container": "flotty",
            "prefix": "",
            "protocol": "swift",
            "remote_account": "AUTH_\u062aacct2"
        }
    ],
    "migrator_settings": {
        "items_chunk": 5,
        "log_file": "/var/log/swift-s3-migrator.log",
        "poll_interval": 1,
        "status_file": "/var/lib/swift-s3-sync/migrator.status",
        "workers": 5,
        "processes": 1,
        "process": 0,
        "log_level": "debug"
    },
    "devices": "/swift/nodes/1/node",
    "items_chunk": 1000,
    "log_file": "/var/log/swift-s3-sync.log",
    "poll_interval": 1,
    "status_dir": "/var/lib/swift-s3-sync",
    "workers": 10,
    "enumerator_workers": 10,
    "statsd_host": "localhost",
    "statsd_port": 21337
}
